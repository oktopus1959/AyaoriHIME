###### [FAQ HOME](../FAQ.md#FAQ-HOME)

# FAQ 交ぜ書き変換編

## 目次

- [交ぜ書き変換って何ですか](#交ぜ書き変換って何ですか)
- [変換キーの設定](#変換キーの設定)
- [ユーザー辞書登録](#ユーザー辞書登録)
    - [「ばかばかしい,馬鹿馬鹿しい,形容詞」を登録したら展開後行数が224行になりました](#ばかばかしい馬鹿馬鹿しい形容詞を登録したら展開後行数が224行になりました)
    - [交ぜ書き展開を抑制したい](#交ぜ書き展開を抑制したい)


## 交ぜ書き変換って何ですか


## 変換キーの設定
現状、従来のように配列定義の中で交ぜ書き変換キーを設定することができないので、
拡張修飾キーで設定してください。
以下は、無変換キーを拡張修飾キーとして使用し、「`無変換+K`」を交ぜ書き変換キーとして設定する例です。

![alt text](image/mazegaki-key-assign.png)

まず、無変換キーに対して拡張シフト面を設定します。以下では拡張シフトB面を設定しています。<br>
![alt text](image/extended-mod-shift.png)

修飾キー設定で無変換キーを選択し、`K` の「割り当てキー/機能名」のセルをダブルクリックします。

![alt text](image/mazegaki-mod-conv.png)<br>

機能名選択で、「`MazeConversion`」を選択します。<br>
![alt text](image/mazegaki-maze-conv.png)

`MazeConversion` が設定されていることを確認したら、`書き出し`をクリックします。<br>
![alt text](image/mazegaki-maze-conv-2.png)

元の画面に戻ったら、「`再読込`」をクリックします。<br>
![alt text](image/mazegaki-key-assign-reload.png)

以上。

## ユーザー辞書登録
「履歴・交ぜ書き」タブを開き、「交ぜ書きユーザー辞書」の「開く」をクリックします。<br>
![alt text](image/mazegaki-dic-open.png)

テキストエディターが開いて、`userFiles/userDic.csv` ファイルの内容が表示されます。<br>
![alt text](image/mazegaki-dic-sample.png)

この辞書はサンプルなので、不要なものは削除してください。

1行に1エントリを記述します。フォーマットは次のようになっています。

`読み,変換形,品詞,重み`

このうち、 `品詞`と`重み`は省略できます。
- `品詞` を省略すると `名詞` になる
- `重み` を省略すると 5000 が設定される

`品詞` には以下のものがあります。
|名称|説明|
|-|-|
|名詞|一般名詞|
|サ変|名詞であり、「～する」という形の動詞にもなるもの|
|固有名詞|人名、地名、組織名などの固有名詞一般|
|人名|人名を表す固有名詞|
|姓|姓を表す固有名詞|
|名|名を表す固有名詞|
|地域|地域を表す固有名詞|
|地名|地名を表す固有名詞|
|組織|組織を表す固有名詞|
|数|数詞|
|副詞|副詞|
|形容詞|形容詞|
|形容動詞|形容動詞。「~な」という表現が可能なもの|
|五段|五段活用する動詞|
|一段|一段活用する動詞|
|クル|「くる」「こない」「きて」のような活用をする動詞|
|来ル|「来る」「来ない」「来て」のような活用をする動詞|
|スル|「～する」「~しない」「~して」のような活用をする動詞。語幹が名詞にならないもの|
|ズル|「～ずる」「~じない」「~じて」のような活用をする動詞|

辞書の追加や修正が終わってファイルを保存したら、「インポート」をクリックします。<br>
![alt text](image/mazegaki-dic-import.png)

以下のような結果が表示されればOKです。<br>
![alt text](image/mazegaki-dic-import-done.png)

記述に間違いがあると、現状、次のような不親切な表示になります。
いずれエラー箇所を表示するようにする予定ですが、現状はがんばって目視でエラー箇所を探してください。<br>
![alt text](image/mazegaki-dic-import-error.png)

### 「ばかばかしい,馬鹿馬鹿しい,形容詞」を登録したら展開後行数が224行になりました
![alt text](image/maze-expansion.png)

交ぜ書き辞書は、デフォルトで登録しようとするエントリを「交ぜ書き展開」します。これは、「ばかばかしい,馬鹿馬鹿しい」の例だと次のようになります。

```
馬鹿馬鹿しい
馬鹿馬かしい
馬鹿ば鹿しい
馬鹿ばかしい
馬か馬鹿しい
馬か馬かしい
馬かば鹿しい
馬かばかしい
ば鹿馬鹿しい
ば鹿馬かしい
ば鹿ば鹿しい
ば鹿ばかしい
ばか馬鹿しい
ばか馬かしい
ばかば鹿しい
ばかばかしい
```

都合16通りに展開されます。

さらに、形容詞は活用形が14通りあります。

```
馬鹿馬鹿しい
馬鹿馬鹿し
馬鹿馬鹿しから
馬鹿馬鹿しかろ
馬鹿馬鹿しかっ
馬鹿馬鹿しく
馬鹿馬鹿しくっ
馬鹿馬鹿しゅう
馬鹿馬鹿しき
馬鹿馬鹿しけれ
馬鹿馬鹿しかれ
馬鹿馬鹿しけりゃ
馬鹿馬鹿しきゃ
馬鹿馬鹿し(ガル接続)
```

16×14 で都合 224通りというわけです。

### 交ぜ書き展開を抑制したい
エントリの先頭に `+` または `-` を付けてください。

```
+ばかばかしい,馬鹿馬鹿しい,形容詞
```

こうすると交ぜ書き展開をしなくなります。`+` の場合は活用形展開をやりますが、`-` だとさらに活用形展開も抑制されます。

```
あやしぃ,怪しぃ,形容詞
```

上記は基本形の「あやしぃ」と「怪しぃ」の2通だけが登録されるようになります。
